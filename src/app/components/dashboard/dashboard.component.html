<mat-accordion *ngIf="!loading && !error" class="dashboard-grid">
  <mat-expansion-panel *ngFor="let v of claims">
    <mat-expansion-panel-header>
      <mat-panel-title>
        {{ v.vehicleNumber }} — {{ v.applicantName }}
      </mat-panel-title>
      <mat-panel-description>
        {{ v.createdAt | date:'medium' }}
      </mat-panel-description>
    </mat-expansion-panel-header>

    <!-- workflow tabs -->
    <mat-tab-group
      [selectedIndex]="getStepIndex(v)"
      mat-stretch-tabs
      class="workflow-tabs"
    >
      <mat-tab *ngFor="let step of steps" [label]="step">
        <!-- optional: slot in step-specific content here -->
      </mat-tab>
    </mat-tab-group>

    <!-- applicant & contact -->
    <section class="mt-2">
      <h4>Applicant</h4>
      <p>{{ v.applicantName }} — {{ v.applicantContact }}</p>
    </section>
  </mat-expansion-panel>
</mat-accordion>

<div *ngIf="loading">Loading valuations…</div>
<div *ngIf="error" class="error">{{ error }}</div>
